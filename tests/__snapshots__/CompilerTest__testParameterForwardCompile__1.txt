if (!isset($config) || !$config instanceof \holonet\common\collection\ConfigRegistry) {
	throw new \InvalidArgumentException('The config parameter must be an instance of \holonet\common\collection\ConfigRegistry');
}

$initialServices ??= array();

return new class($config, $initialServices) extends \holonet\common\di\Container {
	protected array $aliases = array(
		'container' => 'holonet\\common\\di\\Container',
		'registry' => 'holonet\\common\\collection\\ConfigRegistry',
	);
	
	protected array $services = array(
		0 => 'container',
		1 => 'registry',
	);
	
	protected function instance(string $class, array $params = array()): object {
		return match ($class) {
			holonet\common\tests\di\DependencyForwardAutoWire::class => $this->make_holonet_common_tests_di_DependencyForwardAutoWire($params),
			default => parent::instance($class, $params)
		};
	}
	
	protected function make_holonet_common_tests_di_DependencyForwardAutoWire(array $params): holonet\common\tests\di\DependencyForwardAutoWire {
		$params['string'] ??= 'gojsdgoisjdgio';
		$params['int'] ??= 5;
		$params['float'] ??= 10.5;
		$params['boolean'] ??= true;
		$params['array'] ??= array (
	  0 => 'value1',
	  1 => 'value2',
	);
		return new holonet\common\tests\di\DependencyForwardAutoWire(...$params);
	}
};